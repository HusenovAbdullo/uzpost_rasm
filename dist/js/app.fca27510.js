(function(){"use strict";var a={5936:function(a,t,o){var i=o(5130),e=o(6768);function s(a,t,o,i,s,n){const r=(0,e.g2)("router-view");return(0,e.uX)(),(0,e.Wv)(r)}var n={name:"App"},r=o(1241);const l=(0,r.A)(n,[["render",s]]);var c=l,u=(o(4979),o(1387)),p=o(4232);const h={class:"login-container"},d={class:"login-box"},g={class:"input-container"},m={key:0};function k(a,t,o,s,n,r){return(0,e.uX)(),(0,e.CE)("div",h,[(0,e.Lk)("div",d,[t[4]||(t[4]=(0,e.Lk)("h1",null,"Kirish sahifasi",-1)),(0,e.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...a)=>r.login&&r.login(...a)),["prevent"]))},[(0,e.Lk)("div",g,[(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.username=a),type:"text",placeholder:"Foydalanuvchi nomi",required:""},null,512),[[i.Jo,n.username]]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.password=a),type:"password",placeholder:"Parol",required:""},null,512),[[i.Jo,n.password]])]),t[3]||(t[3]=(0,e.Lk)("button",{type:"submit",class:"login-btn"},"Kirish",-1))],32),n.error?((0,e.uX)(),(0,e.CE)("p",m,(0,p.v_)(n.error),1)):(0,e.Q3)("",!0)])])}o(4114);var b={name:"LoginPage",data(){return{username:"",password:"",error:null}},methods:{async login(){try{const a=await fetch("https://trackapi.pochta.uz/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})});if(!a.ok)throw new Error("Login failed");const t=await a.json();localStorage.setItem("token",t.access),this.$router.push("/dashboard")}catch(a){this.error=a.message}}}};const v=(0,r.A)(b,[["render",k],["__scopeId","data-v-77e3f060"]]);var y=v;const _={class:"dashboard v2"},f={class:"appbar"},L={class:"appbar__inner"},C={class:"appbar__left"},q={key:0,class:"badge badge--admin"},S={class:"appbar__right"},D={class:"dashboard__body"},P={class:"sidebar"},I={class:"sidebar__section"},w={class:"sidebar__header"},x={class:"form-group"},F={class:"form-group"},z=["value"],T={class:"form-group"},A={class:"form-group"},R={class:"form-group"},Q={class:"form-group"},X={class:"sidebar__actions"},B={class:"sidebar__section sidebar__section--stats"},E={class:"content",ref:"content"},N={class:"content__toolbar"},$={class:"content__toolbar-left"},U={class:"toolbar__meta"},O={key:0},M={class:"content__toolbar-right"},j=["disabled"],K={class:"pagination pagination--top"},J=["disabled"],Y=["disabled"],H={class:"page-info"},V=["disabled"],G=["disabled"],Z={key:0,class:"content__state content__state--loading"},W={key:1,class:"content__state content__state--empty"},aa={key:2,class:"grid"},ta=["onClick","title"],oa={class:"card__thumb"},ia=["src"],ea={key:0,class:"card__badge"},sa={class:"card__body"},na={class:"card__barcode"},ra={key:0,class:"card__fish"},la={key:1,class:"card__location"},ca={key:0},ua={key:1},pa={key:2},ha={key:2,class:"card__post"},da={class:"pagination pagination--bottom"},ga=["disabled"],ma={class:"page-info"},ka=["disabled"],ba={class:"drawer__panel"},va={class:"drawer__content"},ya={class:"drawer__image-wrap"},_a=["src"],fa={class:"drawer__info"},La={key:0,class:"drawer__loading"},Ca={class:"info-header"},qa={key:0,class:"chip chip--barcode"},Sa=["title"],Da={class:"chip__text"},Pa={class:"subline"},Ia={key:0,class:"pill"},wa={key:1,class:"pill"},xa={key:2,class:"pill"},Fa={class:"kv-grid"},za={key:0,class:"kv kv--span2"},Ta={class:"kv__value"},Aa={class:"kv__text"},Ra={key:1,class:"kv kv--span2"},Qa={class:"kv__value"},Xa={class:"kv__text"},Ba={key:0,class:"map-wrap"},Ea=["href"],Na={class:"map-card__inner"},$a=["src"],Ua={class:"map-meta"},Oa={key:0,class:"map-meta__coord"},Ma=["src"];function ja(a,t,o,s,n,r){return(0,e.uX)(),(0,e.CE)("div",_,[(0,e.Lk)("header",f,[(0,e.Lk)("div",L,[(0,e.Lk)("div",C,[t[34]||(t[34]=(0,e.Lk)("h1",{class:"appbar__title",title:"GIBRID XATLARINI TOPSHIRILISHINI NAZORAT QILISH DASTURI"}," GIBRID XATLARINI TOPSHIRILISHINI NAZORAT QILISH DASTURI ",-1)),n.isAdmin?((0,e.uX)(),(0,e.CE)("span",q,"Admin")):(0,e.Q3)("",!0)]),(0,e.Lk)("div",S,[(0,e.Lk)("button",{class:"btn btn--ghost",onClick:t[0]||(t[0]=(...a)=>r.goToStatistics&&r.goToStatistics(...a))}," Statistika "),(0,e.Lk)("button",{class:"btn btn--danger",onClick:t[1]||(t[1]=(...a)=>r.logout&&r.logout(...a))},"Chiqish")])])]),(0,e.Lk)("div",D,[(0,e.Lk)("aside",P,[(0,e.Lk)("div",I,[(0,e.Lk)("div",w,[t[35]||(t[35]=(0,e.Lk)("h2",null,"Filtrlar",-1)),(0,e.Lk)("button",{class:"link-button",type:"button",onClick:t[2]||(t[2]=(...a)=>r.resetFilters&&r.resetFilters(...a))}," Tozalash ")]),(0,e.Lk)("div",x,[t[37]||(t[37]=(0,e.Lk)("label",null,"Viloyat",-1)),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.localRegion=a),onChange:t[4]||(t[4]=(...a)=>r.updateDistricts&&r.updateDistricts(...a))},t[36]||(t[36]=[(0,e.Fv)('<option value="" data-v-2e48d947>Barcha viloyatlar</option><option value="Toshkent shahar" data-v-2e48d947>Toshkent shahar</option><option value="Surxondaryo" data-v-2e48d947>Surxondaryo</option><option value="Samarqand" data-v-2e48d947>Samarqand</option><option value="Buxoro" data-v-2e48d947>Buxoro</option><option value="Andijon" data-v-2e48d947>Andijon</option><option value="Namangan" data-v-2e48d947>Namangan</option><option value="Farg&#39;ona" data-v-2e48d947>Farg&#39;ona</option><option value="Jizzax" data-v-2e48d947>Jizzax</option><option value="Sirdaryo" data-v-2e48d947>Sirdaryo</option><option value="Qashqadaryo" data-v-2e48d947>Qashqadaryo</option><option value="Toshkent viloyati" data-v-2e48d947>Toshkent viloyati</option><option value="Xorazm" data-v-2e48d947>Xorazm</option><option value="Navoiy" data-v-2e48d947>Navoiy</option><option value="Qoraqalpog&#39;iston Respublikasi" data-v-2e48d947> Qoraqalpog&#39;iston Respublikasi </option>',15)]),544),[[i.u1,n.localRegion]])]),(0,e.Lk)("div",F,[t[39]||(t[39]=(0,e.Lk)("label",null,"Tuman",-1)),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.localDistrict=a)},[t[38]||(t[38]=(0,e.Lk)("option",{value:""},"Barcha tumanlar",-1)),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(n.districts,(a=>((0,e.uX)(),(0,e.CE)("option",{key:a,value:a},(0,p.v_)(a),9,z)))),128))],512),[[i.u1,n.localDistrict]])]),(0,e.Lk)("div",T,[t[40]||(t[40]=(0,e.Lk)("label",null,"Barcode",-1)),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.barcode=a),placeholder:"Barcode",onKeyup:t[7]||(t[7]=(0,i.jR)(((...a)=>r.applyFilter&&r.applyFilter(...a)),["enter"]))},null,544),[[i.Jo,n.barcode]])]),(0,e.Lk)("div",A,[t[41]||(t[41]=(0,e.Lk)("label",null,"F.I.SH",-1)),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.localFish=a),placeholder:"F.I.SH",onKeyup:t[9]||(t[9]=(0,i.jR)(((...a)=>r.applyFilter&&r.applyFilter(...a)),["enter"]))},null,544),[[i.Jo,n.localFish]])]),(0,e.Lk)("div",R,[t[42]||(t[42]=(0,e.Lk)("label",null,"Aloqa bo‘lim",-1)),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>n.post_name=a),placeholder:"Aloqa bo'lim",onKeyup:t[11]||(t[11]=(0,i.jR)(((...a)=>r.applyFilter&&r.applyFilter(...a)),["enter"]))},null,544),[[i.Jo,n.post_name]])]),(0,e.Lk)("div",Q,[t[43]||(t[43]=(0,e.Lk)("label",null,"Sana",-1)),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>n.date=a),type:"date"},null,512),[[i.Jo,n.date]])]),(0,e.Lk)("div",X,[(0,e.Lk)("button",{class:"btn btn--primary",type:"button",onClick:t[13]||(t[13]=(...a)=>r.applyFilter&&r.applyFilter(...a))}," Filterni qo‘llash ")])]),(0,e.Lk)("div",B,[t[46]||(t[46]=(0,e.Lk)("h3",null,"Umumiy ma’lumot",-1)),(0,e.Lk)("p",null,[t[44]||(t[44]=(0,e.eW)(" Jami yozuvlar: ")),(0,e.Lk)("strong",null,(0,p.v_)(n.totalCount||(n.loading?"...":n.images.length)),1)]),(0,e.Lk)("p",null,[t[45]||(t[45]=(0,e.eW)("Sahifa: ")),(0,e.Lk)("strong",null,(0,p.v_)(n.currentPage)+" / "+(0,p.v_)(n.totalPages),1)])]),t[47]||(t[47]=(0,e.Lk)("div",{class:"sidebar__footer"},[(0,e.Lk)("small",null,[(0,e.eW)(" Dasturchi: "),(0,e.Lk)("a",{href:"https://t.me/Husenov_Abdullo",target:"_blank",rel:"noopener",class:"devlink",title:"Telegramda ochish"}," Husenov Abdullo ")])],-1))]),(0,e.Lk)("main",E,[(0,e.Lk)("div",N,[(0,e.Lk)("div",$,[t[48]||(t[48]=(0,e.Lk)("span",{class:"toolbar__title"},"Natijalar",-1)),(0,e.Lk)("span",U,[(0,e.eW)(" Sahifa "+(0,p.v_)(n.currentPage)+" / "+(0,p.v_)(n.totalPages)+" ",1),n.totalCount?((0,e.uX)(),(0,e.CE)("span",O," · "+(0,p.v_)(n.totalCount)+" ta yozuv",1)):(0,e.Q3)("",!0)])]),(0,e.Lk)("div",M,[(0,e.Lk)("button",{class:"btn btn--ghost",type:"button",disabled:n.loading,onClick:t[14]||(t[14]=(...a)=>r.fetchData&&r.fetchData(...a))}," Yangilash ",8,j),(0,e.Lk)("div",K,[(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[15]||(t[15]=a=>r.goToPage(1)),disabled:!r.hasPrev||n.loading}," « ",8,J),(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[16]||(t[16]=a=>r.goToPage(n.currentPage-1)),disabled:!r.hasPrev||n.loading}," Orqaga ",8,Y),(0,e.Lk)("span",H,(0,p.v_)(n.currentPage)+" / "+(0,p.v_)(n.totalPages),1),(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[17]||(t[17]=a=>r.goToPage(n.currentPage+1)),disabled:!r.hasNext||n.loading}," Oldinga ",8,V),(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[18]||(t[18]=a=>r.goToPage(n.totalPages)),disabled:!r.hasNext||n.loading}," » ",8,G)])])]),n.loading?((0,e.uX)(),(0,e.CE)("div",Z,t[49]||(t[49]=[(0,e.Lk)("div",{class:"spinner"},null,-1),(0,e.Lk)("p",null,"Ma’lumotlar yuklanmoqda...",-1)]))):n.loading||0!==n.images.length?((0,e.uX)(),(0,e.CE)("div",aa,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(n.images,(a=>((0,e.uX)(),(0,e.CE)("article",{key:a.id,class:"card",onClick:t=>r.openPopup(a),title:a.barcode||"To‘liq ma’lumotni ko‘rish"},[(0,e.Lk)("div",oa,[(0,e.Lk)("img",{class:"card__image",src:r.normalizePhoto(a.photo),loading:"lazy",alt:"Rasm",onError:t[20]||(t[20]=a=>r.onImgError(a))},null,40,ia),a.delivery_date?((0,e.uX)(),(0,e.CE)("div",ea,(0,p.v_)(r.formatDate(a.delivery_date)),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("div",sa,[(0,e.Lk)("p",na,(0,p.v_)(a.barcode||"Barcode ko‘rsatilmagan"),1),a.fish?((0,e.uX)(),(0,e.CE)("p",ra,(0,p.v_)(a.fish),1)):(0,e.Q3)("",!0),a.region_name||a.district_name?((0,e.uX)(),(0,e.CE)("p",la,[a.region_name?((0,e.uX)(),(0,e.CE)("span",ca,(0,p.v_)(a.region_name),1)):(0,e.Q3)("",!0),a.region_name&&a.district_name?((0,e.uX)(),(0,e.CE)("span",ua," / ")):(0,e.Q3)("",!0),a.district_name?((0,e.uX)(),(0,e.CE)("span",pa,(0,p.v_)(a.district_name),1)):(0,e.Q3)("",!0)])):(0,e.Q3)("",!0),a.post_name?((0,e.uX)(),(0,e.CE)("p",ha,(0,p.v_)(a.post_name),1)):(0,e.Q3)("",!0)])],8,ta)))),128))])):((0,e.uX)(),(0,e.CE)("div",W,[t[50]||(t[50]=(0,e.Lk)("p",null,"Tanlangan filtrlar bo‘yicha hech qanday rasm topilmadi.",-1)),(0,e.Lk)("button",{class:"btn btn--ghost",type:"button",onClick:t[19]||(t[19]=(...a)=>r.resetFilters&&r.resetFilters(...a))}," Filtrlarni tozalash ")])),(0,e.Lk)("div",da,[(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[21]||(t[21]=a=>r.goToPage(n.currentPage-1)),disabled:!r.hasPrev||n.loading}," Orqaga ",8,ga),(0,e.Lk)("span",ma,(0,p.v_)(n.currentPage)+" / "+(0,p.v_)(n.totalPages),1),(0,e.Lk)("button",{class:"pag-button",type:"button",onClick:t[22]||(t[22]=a=>r.goToPage(n.currentPage+1)),disabled:!r.hasNext||n.loading}," Oldinga ",8,ka)])],512)]),(0,e.bF)(i.eB,{name:"drawer"},{default:(0,e.k6)((()=>[n.showPopup?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"drawer",onClick:t[30]||(t[30]=(0,i.D$)(((...a)=>r.closePopup&&r.closePopup(...a)),["self"]))},[(0,e.Lk)("div",ba,[(0,e.Lk)("button",{class:"drawer__close",type:"button",onClick:t[23]||(t[23]=(...a)=>r.closePopup&&r.closePopup(...a))}," × "),(0,e.Lk)("div",va,[(0,e.Lk)("div",ya,[(0,e.Lk)("img",{src:r.normalizePhoto(n.popupImage),alt:"Popup Image",class:"drawer__image",onError:t[24]||(t[24]=a=>r.onImgError(a)),onClick:t[25]||(t[25]=(0,i.D$)(((...a)=>r.openImageFullscreen&&r.openImageFullscreen(...a)),["stop"]))},null,40,_a)]),(0,e.Lk)("div",fa,[t[60]||(t[60]=(0,e.Lk)("h2",null,"Rasm ma’lumotlari",-1)),n.popupLoading?((0,e.uX)(),(0,e.CE)("div",La,t[51]||(t[51]=[(0,e.Lk)("div",{class:"spinner spinner--small"},null,-1),(0,e.Lk)("p",null,"Ma’lumotlar yuklanmoqda...",-1)]))):((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[(0,e.Lk)("div",Ca,[n.popupData.barcode?((0,e.uX)(),(0,e.CE)("div",qa,[(0,e.Lk)("span",null,(0,p.v_)(n.popupData.barcode),1),(0,e.Lk)("button",{class:"iconbtn",type:"button",title:"Nusxa olish",onClick:t[26]||(t[26]=(0,i.D$)((a=>r.copyToClipboard(n.popupData.barcode)),["stop"])),"aria-label":"Nusxa olish"},t[52]||(t[52]=[(0,e.Lk)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[(0,e.Lk)("rect",{x:"9",y:"9",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5"}),(0,e.Lk)("rect",{x:"4",y:"4",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5",opacity:".6"})],-1)]))])):(0,e.Q3)("",!0),n.popupData.fish?((0,e.uX)(),(0,e.CE)("div",{key:1,class:"chip chip--name",title:n.popupData.fish},[(0,e.Lk)("span",Da,(0,p.v_)(n.popupData.fish),1),(0,e.Lk)("button",{class:"iconbtn iconbtn--inline",type:"button","aria-label":"Nusxa olish",onClick:t[27]||(t[27]=(0,i.D$)((a=>r.copyToClipboard(n.popupData.fish)),["stop"]))},t[53]||(t[53]=[(0,e.Lk)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[(0,e.Lk)("rect",{x:"9",y:"9",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5"}),(0,e.Lk)("rect",{x:"4",y:"4",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5",opacity:".6"})],-1)]))],8,Sa)):(0,e.Q3)("",!0),(0,e.Lk)("div",Pa,[n.popupData.region_name?((0,e.uX)(),(0,e.CE)("span",Ia,(0,p.v_)(n.popupData.region_name),1)):(0,e.Q3)("",!0),n.popupData.district_name?((0,e.uX)(),(0,e.CE)("span",wa,(0,p.v_)(n.popupData.district_name),1)):(0,e.Q3)("",!0),n.popupData.delivery_date?((0,e.uX)(),(0,e.CE)("span",xa,(0,p.v_)(r.formatDate(n.popupData.delivery_date)),1)):(0,e.Q3)("",!0)])]),(0,e.Lk)("div",Fa,[n.popupData.post_name?((0,e.uX)(),(0,e.CE)("div",za,[t[55]||(t[55]=(0,e.Lk)("span",{class:"kv__label"},"Aloqa bo‘lim",-1)),(0,e.Lk)("span",Ta,[(0,e.Lk)("span",Aa,(0,p.v_)(n.popupData.post_name),1),(0,e.Lk)("button",{class:"iconbtn iconbtn--inline",type:"button",title:"Nusxa olish",onClick:t[28]||(t[28]=(0,i.D$)((a=>r.copyToClipboard(n.popupData.post_name)),["stop"])),"aria-label":"Nusxa olish"},t[54]||(t[54]=[(0,e.Lk)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[(0,e.Lk)("rect",{x:"9",y:"9",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5"}),(0,e.Lk)("rect",{x:"4",y:"4",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5",opacity:".6"})],-1)]))])])):(0,e.Q3)("",!0),n.popupData.street_name?((0,e.uX)(),(0,e.CE)("div",Ra,[t[57]||(t[57]=(0,e.Lk)("span",{class:"kv__label"},"Oluvchi manzili",-1)),(0,e.Lk)("span",Qa,[(0,e.Lk)("span",Xa,(0,p.v_)(n.popupData.street_name),1),(0,e.Lk)("button",{class:"iconbtn iconbtn--inline",type:"button",title:"Nusxa olish",onClick:t[29]||(t[29]=(0,i.D$)((a=>r.copyToClipboard(n.popupData.street_name)),["stop"]))},t[56]||(t[56]=[(0,e.Lk)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[(0,e.Lk)("rect",{x:"9",y:"9",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5"}),(0,e.Lk)("rect",{x:"4",y:"4",width:"11",height:"11",rx:"3",stroke:"currentColor","stroke-width":"1.5",opacity:".6"})],-1)]))])])):(0,e.Q3)("",!0)]),n.popupData.lon&&n.popupData.lat?((0,e.uX)(),(0,e.CE)("div",Ba,[(0,e.Lk)("a",{class:"map-card",href:`https://yandex.uz/maps/?pt=${n.popupData.lon},${n.popupData.lat}&z=${n.mapZoom}`,target:"_blank",rel:"noopener"},[(0,e.Lk)("div",Na,[(0,e.Lk)("img",{class:"map-card__image",src:r.staticMapUrl(n.popupData.lon,n.popupData.lat,n.mapZoom),alt:"Yetkazilgan manzilni xaritada ko‘rish"},null,8,$a),t[58]||(t[58]=(0,e.Lk)("span",{class:"map-card__pin"},null,-1))]),(0,e.Lk)("div",Ua,[t[59]||(t[59]=(0,e.Lk)("span",{class:"map-meta__badge"},"Xaritada ko‘rish",-1)),n.popupData.lon&&n.popupData.lat?((0,e.uX)(),(0,e.CE)("span",Oa,(0,p.v_)(Number(n.popupData.lat).toFixed(6))+", "+(0,p.v_)(Number(n.popupData.lon).toFixed(6)),1)):(0,e.Q3)("",!0)])],8,Ea)])):(0,e.Q3)("",!0)],64))])])])])):(0,e.Q3)("",!0)])),_:1}),(0,e.bF)(i.eB,{name:"fade"},{default:(0,e.k6)((()=>[n.showImageFullscreen?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"fullscreen",onClick:t[33]||(t[33]=(0,i.D$)(((...a)=>r.closeImageFullscreen&&r.closeImageFullscreen(...a)),["self"]))},[(0,e.Lk)("button",{class:"fullscreen__close",type:"button",onClick:t[31]||(t[31]=(...a)=>r.closeImageFullscreen&&r.closeImageFullscreen(...a))}," × "),(0,e.Lk)("img",{src:r.normalizePhoto(n.fullscreenImage||n.popupImage),alt:"Fullscreen image",class:"fullscreen__image",onError:t[32]||(t[32]=a=>r.onImgError(a))},null,40,Ma)])):(0,e.Q3)("",!0)])),_:1})])}var Ka=o(4373),Ja=(o(7926),{name:"DashboardPage",props:["fish","region","district"],data(){return{barcode:"",localFish:this.fish||"",localRegion:this.region||this.$route.params.region||"",localDistrict:this.district||this.$route.params.district||"",post_name:"",date:"",images:[],currentPage:1,totalPages:1,totalCount:0,loading:!1,showPopup:!1,popupData:{},popupImage:"",popupLoading:!1,showImageFullscreen:!1,fullscreenImage:"",itemsPerPage:56,districts:[],is_person:"",isAdmin:!0,mapZoom:10,imgFallback:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}},computed:{hasPrev(){return this.currentPage>1},hasNext(){return this.currentPage<this.totalPages}},watch:{"$route.params.region"(a){this.localRegion=a||"",this.updateDistricts(),this.applyFilter()},"$route.params.district"(a){this.localDistrict=a||"",this.applyFilter()},"$route.params.fish"(a){this.localFish=a?decodeURIComponent(a):"",this.applyFilter()}},methods:{logout(){localStorage.removeItem("token"),this.$router.push({name:"Login"})},goToStatistics(){this.$router.push("/statistika")},normalizePhoto(a){if(!a)return this.imgFallback;const t=String(a).trim();return/^https?:\/\//i.test(t)?t:t.startsWith("//")?"https:"+t:t.startsWith("trackapi.pochta.uz")?"https://"+t:t.startsWith("/")?"https://trackapi.pochta.uz"+t:"https://trackapi.pochta.uz/"+t.replace(/^\/+/,"")},onImgError(a){a.target.src=this.imgFallback},formatDate(a){try{const t=new Date(a),o=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),e=t.getFullYear();return`${o}.${i}.${e}`}catch{return a}},staticMapUrl(a,t,o){const i=encodeURIComponent(a),e=encodeURIComponent(t),s=Number.isFinite(o)?o:this.mapZoom;return`https://static-maps.yandex.ru/1.x/?ll=${i},${e}&z=${s}&size=650,350&l=map&pt=${i},${e},pm2rdm`},updateDistricts(){"Buxoro"===this.localRegion?this.districts=["Jondor","Buxoro Tuman","Peshku","Qorovulbozor","Buxoro Shahar","G'ijduvon","Shofirkon","Kogon","Olot","Romitan","Vobkent","Qorako'l"]:"Toshkent shahar"===this.localRegion?this.districts=["Bektemir","Chilanzar","Mirabad","Mirzo Ulugbek","Olmazor","Shayhontohur","Sirgali","Uchtepa","Yashnabad","Yangi Hayot","Yunusabad","Yakkasaray"]:"Samarqand"===this.localRegion?this.districts=["Samarqand","Nurobod","Kattaqo'rg'on","Payariq","Samarqand shahri","Pastdarg'om","Ishtixon","Oqdaryo","Narpay","Qo'shhrabot","Urgut","Jomboy","Toyloq","Samarqand tumani","Paxtachi","Bulung'ur","Kattaqo'rg'on tumani"]:"Andijon"===this.localRegion?this.districts=["Izboskan","Oltinko'l","Buloqboshi","Andijon shahri","Jalolquduq","Xo'jaobod","Honobod","Paxtaobod Andijon","Shahrixon","Asaka","Marhamat","Ulug'nor","Baliqchi","Bo'ston","Qo'rg'ontepa"]:"Surxondaryo"===this.localRegion?this.districts=["Sho'rchi","Boysun","Muzrabot","Oltinsoy","Qumqo'rg'on","Jarqo'rg'on","Angor","Bandixon","Sherobod","Termiz","Sariosiyo","Uzun","Qiziriq","Denov"]:"Namangan"===this.localRegion?this.districts=["Namangan shahri","Uychi","Pop","Chust","Yangiqo'rg'on","To'raqo'rg'on","Mingbuloq","Chortoq","Kosonsoy","Namangan Tumani","Uchqo'rg'on","Norin"]:"Farg'ona"===this.localRegion?this.districts=["Dang'ara","Beshariq","Oltiariq","Furqat","Qushtepa","Yozyovon","O'zbekiston tumani","Quvasoy","Quva","Farg'ona shahar","Farg'ona tumani","Toshloq","Rishton","Buvayda","Qo'qon Shahri","Uchko'prik","So'x","Bog'dod","Marg'ilon"]:"Jizzax"===this.localRegion?this.districts=["Mirzacho'l","Jizzax shahri","Sharof Rashidov","G'allaorol","Zomin","Zafarobod","Forish","Paxtakor","Do'stlik","Yangiobod","Arnasoy","Baxmal","Zarbdor"]:"Sirdaryo"===this.localRegion?this.districts=["Oqoltin","Guliston","Dehqonobod Sirdaryo","Sirdaryo tuman","Xovos","Boyovut tumani","Sayxunobod","Sardoba","Mirzaobod"]:"Qashqadaryo"===this.localRegion?this.districts=["Beshkent","Qamashi","G'uzor","Qarshi Shahri","Nishon","Mirishkor","Koson","Yakkabog'","Kitob","Chiroqchi","Kasbi","Muborak","Dehqonobod","Shahrisabz"]:"Toshkent viloyati"===this.localRegion?this.districts=["Olmaliq shahri","Buka","Oqqo'rg'on","Urta Chirchiq","Bekobod shahri","Chirchiq shahri","Ohangaron","Quyi Chirchiq","Bekobod tumani","Toshkent Tuman","Yangiyul shahri","Qibray","Angren Shahri","Parkent","Piskent","Yangiyul tumani","Yuqori Chirchiq","Bostanlik","Chinaz","Zangiota"]:"Xorazm"===this.localRegion?this.districts=["Tuproqqal'a","Xonqa","Urganch Shahri","Shovot","Urganch tumani","Yangibozor","Bog'ot","Qo'shko'pir","Gurlan","Yangiariq","Xiva","Hazorasp"]:"Navoiy"===this.localRegion?this.districts=["Karmana","Konimex","Qiziltepa","Xatirchi","Navoiy Shahri","Uchquduq","Navbahor","Nurota","Zarafshan"]:"Qoraqalpog'iston Respublikasi"===this.localRegion?this.districts=["Ellikqala","Qo'ng'irot","Nukus Shahar","Nukus tumani","Moynoq","Xo'jayli","Beruniy Tumani","Chimboy tumani","Shumanay","Taxtako'pir","Qorao'zak","Amudaryo Tumani","Kegeyli","To'rtko'l","Qanliko'l"]:this.districts=[],this.localDistrict="",this.$route.params.district&&this.districts.includes(this.$route.params.district)&&(this.localDistrict=this.$route.params.district)},async fetchData(){this.loading=!0;try{const a=localStorage.getItem("token"),t=Math.max(0,this.currentPage-1),{data:o}=await Ka.A.get("https://trackapi.pochta.uz/api/show_photos/users/",{headers:{Authorization:`Bearer ${a}`},params:{barcode:this.barcode,fish:this.localFish,region:this.localRegion,district:this.localDistrict,post_name:this.post_name,delivery_date:this.date,is_person:this.is_person,page:t,page_size:this.itemsPerPage}});this.images=Array.isArray(o.images)?o.images:[];const i=Number(o.total_pages),e=Number(o.count);this.totalPages=Number.isFinite(i)&&i>0?i:Math.max(1,Math.ceil((Number.isFinite(e)?e:0)/this.itemsPerPage)),this.totalCount=Number.isFinite(e)?e:this.images.length,Number.isFinite(Number(o.current_page))?this.currentPage=Math.min(Math.max(1,Number(o.current_page)+1),this.totalPages):this.currentPage=Math.min(Math.max(1,this.currentPage),this.totalPages),this.isAdmin=!!o.admin}catch(a){401===a?.response?.status?this.logout():console.error("Error fetching data:",a)}finally{this.loading=!1}},applyFilter(){this.currentPage=1,this.fetchData(),this.scrollContentTop(),window.scrollTo({top:0,behavior:"smooth"})},resetFilters(){this.barcode="",this.localFish="",this.localRegion="",this.localDistrict="",this.post_name="",this.date="",this.is_person="",this.updateDistricts(),this.applyFilter()},goToPage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a,this.fetchData(),this.scrollContentTop(),window.scrollTo({top:0,behavior:"smooth"}))},scrollContentTop(){this.$refs.content?.scrollTo({top:0,behavior:"smooth"})},async openPopup(a){this.popupImage=a?.photo||"",this.popupData={},this.popupLoading=!0,this.showPopup=!0;try{const t=localStorage.getItem("token"),o=`https://trackapi.pochta.uz/api/show_photos/users/${a.id}`,{data:i}=await Ka.A.get(o,{headers:{Authorization:`Bearer ${t}`}});this.popupData=i||{},i?.photo&&(this.popupImage=i.photo)}catch(t){401===t?.response?.status?this.logout():console.error("Error fetching detail:",t)}finally{this.popupLoading=!1}},closePopup(){this.showPopup=!1,this.showImageFullscreen=!1,this.popupData={},this.popupImage="",this.popupLoading=!1,this.fullscreenImage=""},openImageFullscreen(){this.popupImage&&(this.fullscreenImage=this.popupImage,this.showImageFullscreen=!0)},closeImageFullscreen(){this.showImageFullscreen=!1,this.fullscreenImage=""},copyToClipboard(a){a&&navigator.clipboard?.writeText(String(a)).catch((()=>{}))}},mounted(){this.localRegion=this.$route.params.region||this.region||"",this.updateDistricts(),this.$route.params.district&&(this.localDistrict=this.$route.params.district),this.$route.params.fish&&(this.localFish=decodeURIComponent(this.$route.params.fish)),this.fetchData()}});const Ya=(0,r.A)(Ja,[["render",ja],["__scopeId","data-v-2e48d947"]]);var Ha=Ya;const Va={id:"app",style:{margin:"20px"}},Ga={key:0,class:"loading-overlay"},Za={key:1},Wa=["onClick"],at={class:"bold-text region-name"},tt={class:"bold-text percentage"},ot=["onClick"],it={key:1},et=["onClick"],st={class:"bold-text region-name"},nt={class:"bold-text percentage"},rt=["onClick"],lt={key:1},ct={class:"bold-text region-name"},ut={class:"bold-text percentage"},pt=["onClick"];function ht(a,t,o,s,n,r){return(0,e.uX)(),(0,e.CE)("div",Va,[(0,e.Lk)("h1",{style:{color:"#fff",cursor:"pointer"},onClick:t[0]||(t[0]=(...a)=>r.goToDashboard&&r.goToDashboard(...a))}," Statistika "),n.loading?((0,e.uX)(),(0,e.CE)("div",Ga,t[1]||(t[1]=[(0,e.Lk)("p",null,"Ma'lumotlar yuklanmoqda...",-1)]))):((0,e.uX)(),(0,e.CE)("div",Za,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.sortedRegions,((a,t)=>((0,e.uX)(),(0,e.CE)("div",{key:a.id},[null===n.activeRegion||n.activeRegion===a.id?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"region",onClick:t=>r.toggleRegion(a.id)},[(0,e.Lk)("div",{class:"circle",style:(0,p.Tr)({backgroundColor:r.getGradientColor(t,r.sortedRegions.length)})},null,4),(0,e.Lk)("span",at,(0,p.v_)(a.name),1),(0,e.Lk)("span",tt,(0,p.v_)(r.formatPercentage(a.similarity_percentage)),1),(0,e.Lk)("button",{onClick:(0,i.D$)((t=>r.viewRegion(a.name)),["stop"]),class:"view-button"},"Rasmlarni ko'rish",8,ot)],8,Wa)):(0,e.Q3)("",!0),n.activeRegion===a.id?((0,e.uX)(),(0,e.CE)("div",it,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.sortedDistricts(a.id),((t,o)=>((0,e.uX)(),(0,e.CE)("div",{key:t.id},[null===n.activeDistrict||n.activeDistrict===t.id?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"district",onClick:a=>r.toggleDistrict(t.id)},[(0,e.Lk)("div",{class:"circle",style:(0,p.Tr)({backgroundColor:r.getGradientColor(o,n.districts[a.id]?.length||0)})},null,4),(0,e.Lk)("span",st,(0,p.v_)(t.name),1),(0,e.Lk)("span",nt,(0,p.v_)(r.formatPercentage(t.similarity_percentage)),1),(0,e.Lk)("button",{onClick:(0,i.D$)((o=>r.viewDistrict(a.name,t.name)),["stop"]),class:"view-button"},"Rasmlarni ko'rish",8,rt)],8,et)):(0,e.Q3)("",!0),n.activeDistrict===t.id?((0,e.uX)(),(0,e.CE)("div",lt,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(r.sortedFishes(t.id),((o,s)=>((0,e.uX)(),(0,e.CE)("div",{key:o.fish,class:"fish"},[(0,e.Lk)("div",{class:"circle",style:(0,p.Tr)({backgroundColor:r.getGradientColor(s,n.fishes[t.id]?.length||0)})},null,4),(0,e.Lk)("span",ct,(0,p.v_)(o.fish),1),(0,e.Lk)("span",ut,(0,p.v_)(r.formatPercentage(o.similarity_percentage)),1),(0,e.Lk)("button",{onClick:(0,i.D$)((i=>r.viewFish(a.name,t.name,o.fish)),["stop"]),class:"view-button"},"Rasmlarni ko'rish",8,pt)])))),128))])):(0,e.Q3)("",!0)])))),128))])):(0,e.Q3)("",!0)])))),128))]))])}var dt={name:"RegionStatistics",data(){return{regions:[],districts:{},fishes:{},loading:!0,activeRegion:null,activeDistrict:null}},computed:{sortedRegions(){return[...this.regions].sort(((a,t)=>a.similarity_percentage-t.similarity_percentage))}},methods:{async fetchDistricts(a){if(!this.districts[a]){const t=localStorage.getItem("token"),o=await fetch(`https://trackapi.pochta.uz/api/region/${a}/districts/`,{headers:{Authorization:`Bearer ${t}`}}),i=await o.json();this.districts[a]=i}},async fetchFishes(a){if(!this.fishes[a]){const t=localStorage.getItem("token"),o=await fetch(`https://trackapi.pochta.uz/api/district/${a}/fish-with-similarity/`,{headers:{Authorization:`Bearer ${t}`}}),i=await o.json();this.fishes[a]=i}},sortedDistricts(a){return this.districts[a]?[...this.districts[a]].sort(((a,t)=>a.similarity_percentage-t.similarity_percentage)):[]},sortedFishes(a){return this.fishes[a]?[...this.fishes[a]].sort(((a,t)=>a.similarity_percentage-t.similarity_percentage)):[]},formatPercentage(a){return`${a.toFixed(3)} %`},getGradientColor(a,t){const o=[0,255,0],i=[255,0,0],e=a/(t-1),s=o.map(((a,t)=>Math.round(a+(i[t]-a)*e)));return`rgb(${s[0]}, ${s[1]}, ${s[2]})`},async toggleRegion(a){this.activeRegion===a?(this.activeRegion=null,this.activeDistrict=null):(this.activeRegion=a,this.activeDistrict=null,await this.fetchDistricts(a))},async toggleDistrict(a){this.activeDistrict===a?this.activeDistrict=null:(this.activeDistrict=a,await this.fetchFishes(a))},viewRegion(a){window.open(`https://foto.pochta.uz/dashboard/${encodeURIComponent(a)}`,"_blank")},viewDistrict(a,t){window.open(`https://foto.pochta.uz/dashboard/${encodeURIComponent(a)}/${encodeURIComponent(t)}`,"_blank")},viewFish(a,t,o){window.open(`https://foto.pochta.uz/dashboard/${encodeURIComponent(a)}/${encodeURIComponent(t)}/${encodeURIComponent(o)}`,"_blank")},goToDashboard(){window.location.href="https://foto.pochta.uz/dashboard"}},async mounted(){try{const a=localStorage.getItem("token"),t=await fetch("https://trackapi.pochta.uz/api/regions/",{headers:{Authorization:`Bearer ${a}`}});this.regions=await t.json()}catch(a){console.error("Error fetching regions:",a)}finally{this.loading=!1}}};const gt=(0,r.A)(dt,[["render",ht],["__scopeId","data-v-55378758"]]);var mt=gt;const kt={class:"dashboard"},bt={class:"banner"},vt={class:"filters"},yt={class:"filter-card"},_t=["value"],ft={class:"results"},Lt=["onClick"],Ct=["src"],qt={class:"popup-content"},St=["src"],Dt={class:"pagination"},Pt=["disabled"],It={class:"page-info"},wt=["disabled"];function xt(a,t,o,s,n,r){return(0,e.uX)(),(0,e.CE)("div",kt,[(0,e.Lk)("div",bt,[t[16]||(t[16]=(0,e.Lk)("h2",null,"GIBRID XATLARINI TOPSHIRILISHINI NAZORAT QILISH DASTURI",-1)),(0,e.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>r.logout&&r.logout(...a)),class:"logout-button"},"Chiqish")]),(0,e.Lk)("div",vt,[(0,e.Lk)("div",yt,[(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.region=a),onChange:t[2]||(t[2]=(...a)=>r.updateDistricts&&r.updateDistricts(...a))},t[17]||(t[17]=[(0,e.Fv)('<option value="" data-v-a76a8be0>Viloyatlar</option><option value="Toshkent shahar" data-v-a76a8be0>Toshkent shahar</option><option value="Surxondaryo" data-v-a76a8be0>Surxondaryo</option><option value="Samarqand" data-v-a76a8be0>Samarqand</option><option value="Buxoro" data-v-a76a8be0>Buxoro</option><option value="Andijon" data-v-a76a8be0>Andijon</option><option value="Namangan" data-v-a76a8be0>Namangan</option><option value="Farg&#39;ona" data-v-a76a8be0>Farg&#39;ona</option><option value="Jizzax" data-v-a76a8be0>Jizzax</option><option value="Sirdaryo" data-v-a76a8be0>Sirdaryo</option><option value="Qashqadaryo" data-v-a76a8be0>Qashqadaryo</option><option value="Toshkent viloyati" data-v-a76a8be0>Toshkent viloyati</option><option value="Xorazm" data-v-a76a8be0>Xorazm</option><option value="Navoiy" data-v-a76a8be0>Navoiy</option><option value="Qoraqalpog&#39;iston Respublikasi" data-v-a76a8be0> Qoraqalpog&#39;iston Respublikasi </option>',15)]),544),[[i.u1,n.region]]),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.district=a)},[t[18]||(t[18]=(0,e.Lk)("option",{value:""},"Tumanlar",-1)),((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(n.districts,(a=>((0,e.uX)(),(0,e.CE)("option",{key:a,value:a},(0,p.v_)(a),9,_t)))),128))],512),[[i.u1,n.district]]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.barcode=a),placeholder:"Barcode"},null,512),[[i.Jo,n.barcode]]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.fish=a),placeholder:"F.I.SH"},null,512),[[i.Jo,n.fish]]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>n.post_name=a),placeholder:"Aloqa bo'lim"},null,512),[[i.Jo,n.post_name]]),(0,e.bo)((0,e.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.date=a),placeholder:"ДД.ММ.РРРР",type:"date"},null,512),[[i.Jo,n.date]]),(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.is_person=a)},t[19]||(t[19]=[(0,e.Lk)("option",{value:""},"Haqiqiyligini tekshirish",-1),(0,e.Lk)("option",{value:"True"},"Xato",-1),(0,e.Lk)("option",{value:"False"},"To'g'ri",-1)]),512),[[i.u1,n.is_person]]),(0,e.Lk)("button",{onClick:t[9]||(t[9]=(...a)=>r.applyFilter&&r.applyFilter(...a))},"Filterni qo'llash"),(0,e.Lk)("button",{onClick:t[10]||(t[10]=(...a)=>r.goToStatistics&&r.goToStatistics(...a)),style:{"background-color":"green"}},"Statistika")])]),(0,e.Lk)("div",ft,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(n.images,(a=>((0,e.uX)(),(0,e.CE)("div",{key:a.barcode,class:"image-card",onClick:t=>r.openPopup(a)},[(0,e.Lk)("img",{src:`https://trackapi.pochta.uz/${a.photo}`,alt:"Image"},null,8,Ct)],8,Lt)))),128))]),n.showPopup?((0,e.uX)(),(0,e.CE)("div",{key:0,class:"popup",onClick:t[13]||(t[13]=(0,i.D$)(((...a)=>r.closePopup&&r.closePopup(...a)),["self"]))},[(0,e.Lk)("div",qt,[(0,e.Lk)("span",{class:"close",onClick:t[11]||(t[11]=(...a)=>r.closePopup&&r.closePopup(...a))},"×"),(0,e.Lk)("img",{src:`https://trackapi.pochta.uz/${n.popupData.photo}`,alt:"Popup Image",onClick:t[12]||(t[12]=(...a)=>r.toggleFullScreen&&r.toggleFullScreen(...a)),class:"popup-image image-container"},null,8,St),(0,e.Lk)("p",null,"Barcode: "+(0,p.v_)(n.popupData.barcode),1),(0,e.Lk)("p",null,"F.I.SH: "+(0,p.v_)(n.popupData.fish),1),(0,e.Lk)("p",null,"Viloyat: "+(0,p.v_)(n.popupData.region__name),1),(0,e.Lk)("p",null,"Tuman: "+(0,p.v_)(n.popupData.district__name),1),(0,e.Lk)("p",null,"Sana: "+(0,p.v_)(n.popupData.delivery_date),1),(0,e.Lk)("p",null,"Aloqa bo'lim: "+(0,p.v_)(n.popupData.post_name),1),(0,e.Lk)("p",null,"Oluvchi manzili: "+(0,p.v_)(n.popupData.street_name),1)])])):(0,e.Q3)("",!0),(0,e.Lk)("div",Dt,[(0,e.Lk)("button",{onClick:t[14]||(t[14]=a=>r.goToPage(n.currentPage-1)),disabled:!n.previous,class:"pag-button"}," Orqaga ",8,Pt),(0,e.Lk)("span",It,(0,p.v_)(n.currentPage)+" ... "+(0,p.v_)(n.totalPages),1),(0,e.Lk)("button",{onClick:t[15]||(t[15]=a=>r.goToPage(n.currentPage+1)),disabled:!n.next,class:"pag-button"}," Oldinga ",8,wt)])])}var Ft={name:"DashboardPage",data(){return{barcode:"",fish:this.fish||"",region:this.region||"",district:this.district||"",post_name:"",date:"",images:[],currentPage:1,totalPages:1,next:null,previous:null,showPopup:!1,popupData:{},itemsPerPage:200,districts:[],is_person:""}},beforeRouteEnter(a,t,o){const i=localStorage.getItem("token");i?o():o({name:"Login"})},methods:{logout(){localStorage.removeItem("token"),this.$router.push({name:"Login"})},goToStatistics(){this.$router.push("/statistika")},updateDistricts(){"Buxoro"===this.region?this.districts=["Jondor","Buxoro Tuman","Peshku","Qorovulbozor","Buxoro Shahar","G'ijduvon","Shofirkon","Kogon","Olot","Romitan","Vobkent","Qorako'l"]:"Toshkent shahar"===this.region?this.districts=["Bektemir","Chilanzar","Mirabad","Mirzo Ulugbek","Olmazor","Shayhontohur","Sirgali","Uchtepa","Yashnabad","Yangi Hayot","Yunusabad","Yakkasaray"]:"Samarqand"===this.region?this.districts=["Samarqand","Nurobod","Kattaqo'rg'on","Payariq","Samarqand shahri","Pastdarg'om","Ishtixon","Oqdaryo","Narpay","Qo'shhrabot","Urgut","Jomboy","Toyloq","Samarqand tumani","Paxtachi","Bulung'ur","Kattaqo'rg'on tumani"]:"Andijon"===this.region?this.districts=["Izboskan","Oltinko'l","Buloqboshi","Andijon shahri","Jalolquduq","Xo'jaobod","Honobod","Paxtaobod Andijon","Shahrixon","Asaka","Marhamat","Ulug'nor","Baliqchi","Bo'ston","Qo'rg'ontepa"]:"Surxondaryo"===this.region?this.districts=["Sho'rchi","Boysun","Muzrabot","Oltinsoy","Qumqo'rg'on","Jarqo'rg'on","Angor","Bandixon","Sherobod","Termiz","Sariosiyo","Uzun","Qiziriq","Denov"]:"Namangan"===this.region?this.districts=["Namangan shahri","Uychi","Pop","Chust","Yangiqo'rg'on","To'raqo'rg'on","Mingbuloq","Chortoq","Kosonsoy","Namangan Tumani","Uchqo'rg'on","Norin"]:"Farg'ona"===this.region?this.districts=["Dang'ara","Beshariq","Oltiariq","Furqat","Qushtepa","Yozyovon","O'zbekiston tumani","Quvasoy","Quva","Farg'ona shahar","Farg'ona tumani","Toshloq","Rishton","Buvayda","Qo'qon Shahri","Uchko'prik","So'x","Bog'dod","Marg'ilon"]:"Jizzax"===this.region?this.districts=["Mirzacho'l","Jizzax shahri","Sharof Rashidov","G'allaorol","Zomin","Zafarobod","Forish","Paxtakor","Do'stlik","Yangiobod","Arnasoy","Baxmal","Zarbdor"]:"Sirdaryo"===this.region?this.districts=["Oqoltin","Guliston","Dehqonobod Sirdaryo","Sirdaryo tuman","Xovos","Boyovut tumani","Sayxunobod","Sardoba","Mirzaobod"]:"Qashqadaryo"===this.region?this.districts=["Beshkent","Qamashi","G'uzor","Qarshi Shahri","Nishon","Mirishkor","Koson","Yakkabog'","Kitob","Chiroqchi","Kasbi","Muborak","Dehqonobod","Shahrisabz"]:"Toshkent viloyati"===this.region?this.districts=["Olmaliq shahri","Buka","Oqqo'rg'on","Urta Chirchiq","Bekobod shahri","Chirchiq shahri","Ohangaron","Quyi Chirchiq","Bekobod tumani","Toshkent Tuman","Yangiyul shahri","Qibray","Angren Shahri","Parkent","Piskent","Yangiyul tumani","Yuqori Chirchiq","Bostanlik","Chinaz","Zangiota"]:"Xorazm"===this.region?this.districts=["Tuproqqal'a","Xonqa","Urganch Shahri","Shovot","Urganch tumani","Yangibozor","Bog'ot","Qo'shko'pir","Gurlan","Yangiariq","Xiva","Hazorasp"]:"Navoiy"===this.region?this.districts=["Karmana","Konimex","Qiziltepa","Xatirchi","Navoiy Shahri","Uchquduq","Navbahor","Nurota","Zarafshan"]:"Qoraqalpog'iston Respublikasi"===this.region?this.districts=["Ellikqala","Qo'ng'irot","Nukus Shahar","Nukus tumani","Moynoq","Xo'jayli","Beruniy Tumani","Chimboy tumani","Shumanay","Taxtako'pir","Qorao'zak","Amudaryo Tumani","Kegeyli","To'rtko'l","Qanliko'l"]:this.districts=[],this.district=""},async fetchData(a={}){try{const t=localStorage.getItem("token"),o=await Ka.A.get("https://trackapi.pochta.uz/api/show_photos/users/",{headers:{Authorization:`Bearer ${t}`},params:{barcode:a.barcode||this.barcode,fish:a.fish||this.fish,region:a.region||this.region,district:a.district||this.district,post_name:a.post_name||this.post_name,delivery_date:a.date||this.date,is_person:a.is_person||this.is_person,page:this.currentPage,page_size:this.itemsPerPage}});this.images=o.data.results.images,this.totalPages=Math.ceil(o.data.count/this.itemsPerPage),this.next=o.data.next,this.previous=o.data.previous}catch(t){t.response&&401===t.response.status?this.logout():console.error("Error fetching data:",t)}},applyFilter(){this.currentPage=1,this.fetchData()},goToPage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a,this.fetchData())},openPopup(a){this.popupData=a,this.showPopup=!0},closePopup(){this.showPopup=!1,this.popupData={}},toggleFullScreen(){const a=document.querySelector(".popup-image");a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},mounted(){this.fetchData()}};const zt=(0,r.A)(Ft,[["render",xt],["__scopeId","data-v-a76a8be0"]]);var Tt=zt;function At(a){try{const t=a.split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(o).split("").map((a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2))).join(""));return JSON.parse(i)}catch{return null}}function Rt(a){if(!a)return!0;const t=At(a);if(!t||!t.exp)return!0;const o=Date.now(),i=1e3*t.exp;return o>=i-5e3}const Qt=[{path:"/",name:"Login",component:y},{path:"/dashboard/:region",name:"DashboardRegion",component:Ha,props:!0,meta:{requiresAuth:!0}},{path:"/dashboard/:region/:district?",name:"DashboardRegionDistrict",component:Ha,props:!0,meta:{requiresAuth:!0}},{path:"/dashboard/:region/:district/:fish?",name:"Dashboard",component:Ha,props:!0,meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboarda",component:Ha,props:!0,meta:{requiresAuth:!0}},{path:"/statistika",name:"Statistika",component:mt,meta:{requiresAuth:!0}},{path:"/dashboard1/:fish?/:region?/:district?",name:"Dashboard1",component:Tt,props:!0,meta:{requiresAuth:!0}}],Xt=(0,u.aE)({history:(0,u.LA)("/"),routes:Qt});Xt.beforeEach((a=>{if(!a.meta?.requiresAuth)return!0;const t=localStorage.getItem("token");return!(!t||Rt(t))||(localStorage.removeItem("token"),{name:"Login",replace:!0})})),"undefined"!==typeof window&&(setInterval((()=>{const a=localStorage.getItem("token");a&&Rt(a)&&(localStorage.removeItem("token"),"Login"!==Xt.currentRoute.value.name&&Xt.replace({name:"Login"}))}),3e4),document.addEventListener("visibilitychange",(()=>{if(!document.hidden){const a=localStorage.getItem("token");a&&Rt(a)&&(localStorage.removeItem("token"),"Login"!==Xt.currentRoute.value.name&&Xt.replace({name:"Login"}))}})));var Bt=Xt;const Et=(0,i.Ef)(c);Et.use(Bt),Et.mount("#app")}},t={};function o(i){var e=t[i];if(void 0!==e)return e.exports;var s=t[i]={exports:{}};return a[i].call(s.exports,s,s.exports,o),s.exports}o.m=a,function(){var a=[];o.O=function(t,i,e,s){if(!i){var n=1/0;for(u=0;u<a.length;u++){i=a[u][0],e=a[u][1],s=a[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||n>=s)&&Object.keys(o.O).every((function(a){return o.O[a](i[l])}))?i.splice(l--,1):(r=!1,s<n&&(n=s));if(r){a.splice(u--,1);var c=e();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=a.length;u>0&&a[u-1][2]>s;u--)a[u]=a[u-1];a[u]=[i,e,s]}}(),function(){o.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return o.d(t,{a:t}),t}}(),function(){o.d=function(a,t){for(var i in t)o.o(t,i)&&!o.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){o.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){o.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};o.O.j=function(t){return 0===a[t]};var t=function(t,i){var e,s,n=i[0],r=i[1],l=i[2],c=0;if(n.some((function(t){return 0!==a[t]}))){for(e in r)o.o(r,e)&&(o.m[e]=r[e]);if(l)var u=l(o)}for(t&&t(i);c<n.length;c++)s=n[c],o.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return o.O(u)},i=self["webpackChunkrasm"]=self["webpackChunkrasm"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(5936)}));i=o.O(i)})();
//# sourceMappingURL=app.fca27510.js.map